<!DOCTYPE html>
<html>

<head>
    <!--Import Google Icon Font-->
    <link href="css/icon.css" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection"/>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script type="text/javascript" src="js/angular.min.js"></script>
    <script type="text/javascript" src="js/site.js"></script>
    <style>
        body {
            background-color: #f9f9f9;
        }

        nav .nav-wrapper form, nav .nav-wrapper form .input-field {
            height: 100%;
        }

        img {
            margin-left: 15px;
            margin-top: 15px;
        }

        i.icon-yellow {
            color: #ffd600;
        }
    </style>
</head>

<body ng-app="site">
<div ng-controller="controller" class="section no-pad-bot" id="index-banner">
    <div class="container">
        <nav>
            <div class="nav-wrapper">
                <form>
                    <div class="input-field">
                        <input class="card-panel teal lighten-2" id="search" type="search" required
                               placeholder="ძებნა...">
                    </div>
                </form>
            </div>
        </nav>
        <div>
            <ul id="persons" class="collapsible" data-collapsible="expandable">
                <li class="collection-item" ng-repeat="person in persons">
                    <div id="name" class="collapsible-header">
                        <i class="material-icons">perm_identity</i>{{person.first_name + " " + person.last_name}}
                        <a class="secondary-content">
                            <i class="material-icons" ng-click="toggleFavorite(person)"
                               ng-class="{true: 'icon-yellow'}[person.favorite]">grade</i>
                            <i class="material-icons" ng-click="editPerson(person)">mode_edit</i>
                            <i class="material-icons" ng-click="deletePerson(person)">delete</i>
                        </a>
                    </div>
                    <div class="collapsible-body">
                        <div class="row">
                            <div id="image" class="s2 col">
                                <img ng-src="{{person.image ? 'data:image/png;base64,' + person.image : 'img/user.png'}}"
                                     height="80px" class="align-right circle">
                            </div>
                            <div ng-show="!!person.birthday || !!person.email || !!person.phone" id="info1"
                                 class="s4 col">
                                <label ng-show="!!person.birthday">დაბადიბის თარიღი </label>{{person.birthday | date : 'yyyy-MM-dd'}}
                                <br>
                                <label ng-show="!!person.email">მეილი </label> {{person.email}}
                                <br>
                                <label ng-show="!!person.phone">ტელეფონი </label> {{person.phone}}
                                <br>
                            </div>
                            <div ng-show="!!person.education || !!person.address || !!person.address" id="info2" class="s6 col">
                                <label ng-show="!!person.education">განათლება </label>{{person.education}}
                                <br>
                                <label ng-show="!!person.address">მისამართი </label>{{person.address}}
                                <br>
                                <label ng-show="!!person.confessor">მოძღვარი </label>{{person.confessor}}
                                <br>
                            </div>
                        </div>
                        <div id="info" class="row">
                            <div id="info3" class="s10 offset-s2 col">
                                <label ng-show="!!person.facebook">facebook </label><a ng-href="{{person.facebook}}">{{person.facebook}}</a>
                                <br ng-show="!!person.facebook">
                                <label ng-show="!!person.textarea">დამატებითი ინფორმაცია </label>{{person.textarea}}<br ng-show="!!person.textarea">
                                <label>უნარები </label><br>{{person.skills}}<br>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <div id="addSkillModal" class="modal">
        <div class="modal-content">
            <h4>ახალი უნარი</h4>
            <div class="row">
                <div class="input-field col s12">
                    <input ng-model="skill" id="skill" type="text">
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <a ng-click="addSkill()" class="modal-action waves-effect waves-green btn-flat">დამატება</a>
            <a class="modal-action modal-close waves-effect waves-green btn-flat">დახურვა</a>
        </div>
    </div>

    <div>
        <div class="fixed-action-btn vertical click-to-toggle" style="bottom: 45px; right: 24px;">
            <a class="btn-floating btn-large">
                <i class="large material-icons">add</i>
            </a>
            <ul>
                <li><a class="btn-floating tooltipped" data-position="left" data-delay="50" data-tooltip="პიროვნების დამატება" href="add.html"><i class="material-icons">perm_identity</i></a></li>
                <li><a class="btn-floating tooltipped modal-trigger" href="#addSkillModal" data-position="left" data-delay="50" data-tooltip="უანრის დამატება"><i class="material-icons">toc</i></a></li>
            </ul>
        </div>
    </div>
</div>
</body>

</html>
